<html>
  <head>
    {% if title %} <title>Praxyk | {{ page_title }}</title>
    {% else %} <title>Praxyk</title> {% endif %}

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/static/css/styles.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="/static/css/sidebar.css">
	<link rel="stylesheet" type="text/css" href="/static/css/navbar.css">
	<link rel="stylesheet" type="text/css" href="/static/css/content.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript" src="/static/scripts/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/css/fileinput.min.css">
    <script src="/static/js/scripts/canvas-to-blob.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="/static/js/scripts/fileinput.js"></script>
    <script type="text/javascript" src="/static/js/scripts/handlebars.js"></script>


	<!--  Plotly Stuff -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="https://d14fo0winaifog.cloudfront.net/plotly-basic.js"></script>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Icons -->
    <!-- <link href="scripts/icons/general/stylesheets/general_foundicons.css" media="screen" rel="stylesheet" type="text/css" />   -->
    <!-- <link href="scripts/icons/social/stylesheets/social_foundicons.css" media="screen" rel="stylesheet" type="text/css" /> -->

    <!--[if lt IE 8]>
        <link href="scripts/icons/general/stylesheets/general_foundicons_ie7.css" media="screen" rel="stylesheet" type="text/css" />
        <link href="scripts/icons/social/stylesheets/social_foundicons_ie7.css" media="screen" rel="stylesheet" type="text/css" />
    <![endif]-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!--[if IE 7]>
        <link rel="stylesheet" href="scripts/fontawesome/css/font-awesome-ie7.min.css">
    <![endif]-->

    <link href="http://fonts.googleapis.com/css?family=Syncopate" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Abel" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Pontano+Sans" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Oxygen" rel="stylesheet" type="text/css">


    <script src="/static/js/scripts/graphs.js"></script>
    <script src="/static/js/scripts/praxyk.js"></script>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.5/js/bootstrap-select.min.js" type="text/javascript"></script>
</head>

<div class="navbar ">
{% block navbar %}{% endblock %}
</div>

<body onload="OnLoad()" onresize="OnResize()">
	<div id="wrapper">
		{% block sidebar %}{% endblock %}
			<div class="page-content-wrapper">
				<div class="container-dashboard">
					<div class="container-fluid">
						<div id="sidebar-toggle" class="fixed hidden-md hidden-lg hidden-xl hidden-sm">
                            <br>
						<a href="#menu-toggle" id="menu-toggle-content"><i class="fa fa-bars fa-2x"></i></a>
						</div>
						{% block content %}{% endblock %}
					</div>
				</div>
			</div>
	</div>
	<!-- /#wrapper -->

	<div class="footer">
	{% block footer %}{% endblock %}
	</div>
    <div id="hidden-loader" class="hidden"></div>
<!-- Menu Toggle Script -->
<script src="/static/js/scripts/graphs.js"></script>
<script> 
function OnLoad() {
    transaction_status_pie({{ state_counts|safe }}, {{ state_names|safe }});
    transaction_status_bar({{ date_counts|safe }}, {{ dates|safe }});
}

function OnResize() {
     transaction_status_pie({{ state_counts|safe }}, {{ state_names|safe }});
     transaction_status_bar({{ date_counts|safe }}, {{ dates|safe }});
  }
window.resize = OnResize()

</script>
<script>
function showsidebar() {
	deleteCookie('show_sidebar')
	createCookie('show_sidebar', true)
	$("#wrapper").removeClass("toggled");
    $("#sidebar-toggle").addClass("hidden-sm")
    $("#sidebar-toggle").addClass("hidden-md")
    $("#sidebar-toggle").addClass("hidden-xl")
    $("#sidebar-toggle").addClass("hidden-lg")
    setTimeout(function (){
        window.onresize()
    }, 300);
}

function hidesidebar() {
	deleteCookie('show_sidebar')
	createCookie('show_sidebar', false)
	$("#wrapper").addClass("toggled");
    $("#sidebar-toggle").removeClass("hidden-sm")
    $("#sidebar-toggle").removeClass("hidden-md")
    $("#sidebar-toggle").removeClass("hidden-xl")
    $("#sidebar-toggle").removeClass("hidden-lg")
    setTimeout(function (){
        window.onresize()
    }, 300);
}
$("#menu-toggle-inline").click(function(e) {
	e.preventDefault();
	deleteCookie('show_sidebar')
	createCookie('show_sidebar', $("#wrapper").hasClass("toggled"))
	$("#wrapper").toggleClass("toggled");
    $("#sidebar-toggle").toggleClass("hidden-sm")
    $("#sidebar-toggle").toggleClass("hidden-md")
    $("#sidebar-toggle").toggleClass("hidden-xl")
    $("#sidebar-toggle").toggleClass("hidden-lg")
    setTimeout(function (){
        window.onresize()
    }, 300);
});
$("#menu-toggle-content").click(function(e) {
	e.preventDefault();
	deleteCookie('show_sidebar')
	createCookie('show_sidebar', $("#wrapper").hasClass("toggled"))
	$("#wrapper").toggleClass("toggled");
    $("#sidebar-toggle").toggleClass("hidden-sm")
    $("#sidebar-toggle").toggleClass("hidden-md")
    $("#sidebar-toggle").toggleClass("hidden-xl")
    $("#sidebar-toggle").toggleClass("hidden-lg")
    setTimeout(function(){
        window.onresize()
    }, 300);
});

$(function() {
    setTimeout(function(){
		if(getCookie('show_sidebar') === true) {
			showsidebar()
		}
		else if(getCookie('show_sidebar') === false) {
			hidesidebar()
		}
		else {
			showsidebar()
		}
    }, 10);
});

</script>

{% block scripts %}{% endblock %}

</body>
</html>
